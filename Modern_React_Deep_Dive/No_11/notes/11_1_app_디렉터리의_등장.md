# app 디렉터리의 등장

- 파일의 용도

    - `_document`: 페이지에서 쓰이는 `<html>`과 `<body>` 태그를 수정하거나, 서버 사이드 렌더링 시 `styled-components` 같은 일부 CSS-in-JS를 지원하기 위한 코드를 삽입하는 제한적인 용도로 사용(이외 이벤트 핸들러나 클라이언트 로직 사용 금지)
    - `_app`: `_app`은 페이지를 초기화하기 위한 용도로 사용, 다음과 같은 작업이 가능하다고 명시
        - 페이지 변경 시에 유지하고 싶은 레이아웃
        - 페이지 변경 시 상태 유지
        - componentDidCatch를 활용한 에러 핸들링
        - 페이지간 추가적인 데이터 삽입
        - global CSS 주입

- app 라우팅 사용하기 위한 설정
    ```js
    /** @type {import('next').NextConfig} */
    const nextConfig = {
        reactStrictMode: true,
        experimental: {
            appDir: true, // 이 옵션을 experimental 아래에서 활성화해야함
        },
    }

    module.exports = nextConfig
    ```

## 라우팅
### 정의 방식
- Nextjs 12 이하 : /pages/a/b.tsx 또는
- Nextjs 13 app
